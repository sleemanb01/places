"use strict";(self.webpackChunkfront_end=self.webpackChunkfront_end||[]).push([[248],{816:function(e,n,t){t.d(n,{U:function(){return s}});var r=t(885),i=t(2791),a=t(4267),u=t(184),s=function(e){var n=e.id,t=e.center,s=void 0!==t&&t,l=e.onInput,o=e.errorText,c=(0,i.useState)(null),d=(0,r.Z)(c,2),p=d[0],f=d[1],v=(0,i.useState)(null),h=(0,r.Z)(v,2),m=h[0],x=h[1],I=(0,i.useState)(!0),E=(0,r.Z)(I,2),g=E[0],N=E[1],y=(0,i.useRef)(null);(0,i.useEffect)((function(){if(p){var e=new FileReader;e.onload=function(){x(e.result)},e.readAsDataURL(p)}}),[p]);return(0,u.jsxs)("div",{className:"form-control",children:[(0,u.jsx)("input",{id:n,ref:y,style:{display:"none"},type:"file",accept:".jpg,.png,.jpeg",onChange:function(e){var t=null,r=g;e.target.files&&1===e.target.files.length?(t=e.target.files[0],f(t),N(!0),r=!0):(N(!1),r=!1),l(n,t,r)}}),(0,u.jsxs)("div",{className:"image-upload ".concat(s&&"center"),children:[(0,u.jsxs)("div",{className:"image-upload__preview",children:[m&&(0,u.jsx)("img",{src:m,alt:"Preview"}),!m&&(0,u.jsx)("p",{children:"Please pick an image."})]}),(0,u.jsx)(a.z,{type:"button",onClick:function(){y.current.click()},children:"PICK IMAGE"})]}),!g&&(0,u.jsx)("p",{children:o})]})}},8226:function(e,n,t){t.d(n,{I:function(){return l}});var r=t(885),i=t(2791),a=t(3853),u=t(8749),s=t(184);function l(e){var n=e.id,t=e.label,l=e.element,o=e.type,c=e.placeHolder,d=e.rows,p=e.validators,f=e.errorText,v=e.onInput,h={value:e.initValue||"",isTouched:!1,isValid:e.initialIsValid||!1},m=(0,i.useReducer)(a.Bw,h),x=(0,r.Z)(m,2),I=x[0],E=x[1],g=I.value,N=I.isValid;(0,i.useEffect)((function(){v(n,g,N)}),[n,g,N,v]);var y=function(e){var n={val:e.target.value,type:u.hd.CHNAGE,validators:p};E(n)},j=function(){var e={val:I.value,type:u.hd.TOUCH,validators:p};E(e)},T="input"===l?(0,s.jsx)("input",{id:n,type:o,placeholder:c,onChange:y,onBlur:j,value:I.value}):(0,s.jsx)("textarea",{id:n,rows:d||3,onChange:y,onBlur:j,value:I.value});return(0,s.jsxs)("div",{className:"form-control ".concat(!I.isValid&&I.isTouched&&"form-control--invalid"),children:[(0,s.jsx)("label",{htmlFor:n,children:t}),T,!I.isValid&&I.isTouched&&(0,s.jsx)("p",{children:f})]})}},361:function(e,n,t){t.d(n,{Z:function(){return i}});t(2791);var r=t(184),i=function(e){var n=e.className,t=e.style,i=e.children;return(0,r.jsx)("div",{className:"card ".concat(n),style:t,children:i})}},4100:function(e,n,t){t.r(n),t.d(n,{default:function(){return N}});var r=t(4165),i=t(5861),a=t(1413),u=t(885),s=t(2791),l=t(4707),o=t(4795),c=t(3853),d=t(8749),p=t(7594),f=t(4267),v=t(8226),h=t(361),m=t(9805),x=t(5309),I=t(8618),E=t(816),g=t(184);var N=function(){var e=(0,s.useState)(!0),n=(0,u.Z)(e,2),t=n[0],N=n[1],y=(0,I.x)(),j=y.isLoading,T=y.error,w=y.sendRequest,Z=y.clearError,b=(0,s.useContext)(l.V),C=(0,o.c)({email:c.W0,password:c.W0},!1),S=(0,u.Z)(C,3),V=S[0],A=S[1],H=S[2],G=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n){var i,u,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),u={email:V.inputs.email.value,password:V.inputs.password.value},!t){e.next=14;break}return e.prev=3,e.next=6,w(p.Fo,"POST",JSON.stringify(u),p.QN);case 6:i=e.sent,b.login(i),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(3);case 12:e.next=29;break;case 14:return u=(0,a.Z)((0,a.Z)({},u),{},{name:V.inputs.name.value,image:V.inputs.image.value}),e.prev=15,(s=new FormData).append("email",u.email),s.append("name",u.name),s.append("password",u.password),s.append("image",u.image),e.next=23,w(p.P_,"POST",s);case 23:i=e.sent,b.login(i),e.next=29;break;case 27:e.prev=27,e.t1=e.catch(15);case 29:case"end":return e.stop()}}),e,null,[[3,10],[15,27]])})));return function(n){return e.apply(this,arguments)}}();return(0,g.jsxs)(s.Fragment,{children:[(0,g.jsx)(x.C,{error:T,onClear:Z}),(0,g.jsxs)(h.Z,{className:"authentication",children:[(0,g.jsx)(g.Fragment,{children:j&&(0,g.jsx)(m.Z,{asOverlay:!0})}),(0,g.jsx)("h2",{children:"Login Required"}),(0,g.jsx)("hr",{}),(0,g.jsxs)("form",{onSubmit:G,children:[!t&&(0,g.jsx)(v.I,{element:"input",id:"name",type:"text",label:"Your Name",validators:[d.J7.REQUIRE],errorText:p.BH,onInput:A}),!t&&(0,g.jsx)(E.U,{center:!0,id:"image",onInput:A,errorText:p.fo}),(0,g.jsx)(v.I,{element:"input",id:"email",type:"email",label:"E-Mail",validators:[d.J7.EMAIL],errorText:p.zi,onInput:A}),(0,g.jsx)(v.I,{element:"input",id:"password",type:"password",label:"Password",validators:[d.J7.MINLENGTH],errorText:p.ns,onInput:A}),(0,g.jsx)(f.z,{type:"submit",disabled:!V.isValid,children:t?"LOGIN":"SIGNUP"})]}),(0,g.jsx)(f.z,{inverse:!0,onClick:function(){t?H((0,a.Z)((0,a.Z)({},V.inputs),{},{name:c.W0,image:c.W0}),!1):(V.inputs.email=V.inputs.email,V.inputs.password=V.inputs.password,H((0,a.Z)((0,a.Z)({},V.inputs),{},{name:void 0,image:void 0}),V.inputs.email.isValid&&V.inputs.password.isValid)),N((function(e){return!e}))},children:"SWITCH TO ".concat(t?"SIGNUP":"LOGIN")})]})]})}},4795:function(e,n,t){t.d(n,{c:function(){return s}});var r=t(885),i=t(2791),a=t(8749),u=t(3853),s=function(e,n){var t=(0,i.useReducer)(u.aB,{inputs:e,isValid:n}),s=(0,r.Z)(t,2),l=s[0],o=s[1];return[l,(0,i.useCallback)((function(e,n,t){var r={type:a.hd.CHNAGE,input:{value:n,isValid:t},inputId:e};o(r)}),[]),(0,i.useCallback)((function(e,n){var t={inputs:e,isValid:n},r={type:a.hd.SET,input:t};o(r)}),[])]}},3853:function(e,n,t){t.d(n,{aB:function(){return p},Bw:function(){return c},_9:function(){return d},W0:function(){return o}});var r=t(4942),i=t(1413),a=t(8749),u=t(181);var s=t(7594),l=function(e,n){var t,r=!0,i=function(e,n){var t="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=(0,u.Z)(e))||n&&e&&"number"===typeof e.length){t&&(e=t);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return s=e.done,e},e:function(e){l=!0,a=e},f:function(){try{s||null==t.return||t.return()}finally{if(l)throw a}}}}(n);try{for(i.s();!(t=i.n()).done;){var l=t.value;l===a.J7.REQUIRE&&(r=r&&e.trim().length>0),l===a.J7.MINLENGTH&&(r=r&&e.trim().length>=s.bG),l===a.J7.MAXLENGTH&&(r=r&&e.trim().length<=s.Qt),l===a.J7.MIN&&(r=r&&+e>=s.KX),l===a.J7.MAX&&(r=r&&+e<=s.k2),l===a.J7.EMAIL&&(r=r&&/^\S+@\S+\.\S+$/.test(e)),l===a.J7.FILE&&(r=r&&!!e.name.match(/\.(jpg|jpeg|png|gif)$/))}}catch(o){i.e(o)}finally{i.f()}return r},o={value:"",isTouched:!1,isValid:!1},c=function(e,n){switch(n.type){case a.hd.CHNAGE:var t=n.val;return(0,i.Z)((0,i.Z)({},e),{},{value:t,isValid:l(t,n.validators)});case a.hd.TOUCH:return(0,i.Z)((0,i.Z)({},e),{},{isTouched:!0});default:return e}},d={inputs:{title:o,description:o,address:o,image:o},isValid:!1},p=function(e,n){switch(n.type){case a.hd.CHNAGE:n.input=n.input;var t=!0;for(var u in e.inputs)e.inputs[u]&&(t=u===n.inputId?t&&n.input.isValid:t&&e.inputs[u].isValid);return(0,i.Z)((0,i.Z)({},e),{},{inputs:(0,i.Z)((0,i.Z)({},e.inputs),{},(0,r.Z)({},n.inputId,{value:n.input.value,isValid:n.input.isValid})),isValid:t});case a.hd.SET:return n.input=n.input,{inputs:n.input.inputs,isValid:n.input.isValid};default:return e}}},8749:function(e,n,t){var r,i,a;t.d(n,{J7:function(){return r},hd:function(){return i}}),function(e){e[e.REQUIRE=0]="REQUIRE",e[e.MINLENGTH=1]="MINLENGTH",e[e.MAXLENGTH=2]="MAXLENGTH",e[e.MIN=3]="MIN",e[e.MAX=4]="MAX",e[e.EMAIL=5]="EMAIL",e[e.FILE=6]="FILE"}(r||(r={})),function(e){e[e.CHNAGE=0]="CHNAGE",e[e.TOUCH=1]="TOUCH",e[e.SET=2]="SET"}(i||(i={})),function(e){e[e.OK=200]="OK",e[e.Created=201]="Created",e[e.Accepted=202]="Accepted",e[e.No_Content=204]="No_Content",e[e.Bad_Request=400]="Bad_Request",e[e.Unauthorized=401]="Unauthorized",e[e.Not_Found=404]="Not_Found",e[e.Internal_Server_Error=500]="Internal_Server_Error",e[e.Unprocessable_Entity=422]="Unprocessable_Entity"}(a||(a={}))}}]);
//# sourceMappingURL=248.0757ad4d.chunk.js.map